<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title><%= recipe.title %></title>
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <p><button onclick="window.location.href='/recipes'">Back to Recipes</button></p>
  <h1><%= recipe.title %></h1>
  <% if (recipe.image_url) { %>
    <p><img src="<%= recipe.image_url %>" alt="<%= recipe.title %>" style="max-width: 480px; height:auto" /></p>
  <% } %>

  <h3>Ingredients</h3>
  <pre><%= recipe.ingredients %></pre>

  <h3>Instructions</h3>
  <pre><%= recipe.instructions %></pre>

  <p>
    <% if (recipe.cuisine) { %>Cuisine: <%= recipe.cuisine %> • <% } %>
    <% if (recipe.difficulty) { %>Difficulty: <%= recipe.difficulty %> • <% } %>
    <% if (recipe.cook_time) { %>Cook time: <%= recipe.cook_time %> <% } %>
  </p>

  <section class="rating-section">
  <h2>Rate this recipe</h2>

  <div class="rating-widget"
       data-recipe-id="<%= recipe.id %>"
       aria-label="Rate this recipe">

    <div class="rating-stars"
         role="radiogroup"
         aria-label="Recipe rating from 1 to 5 stars">
      <% for (let i = 1; i <= 5; i++) { %>
        <button
          type="button"
          class="rating-star"
          data-value="<%= i %>"
          aria-label="<%= i %> star<%= i > 1 ? 's' : '' %>"
          aria-pressed="false">
          ★
        </button>
      <% } %>
    </div>

    <p class="rating-current">
      Selected rating:
      <span class="rating-value">None</span>
    </p>

    <button type="button"
            class="rating-submit">
      Submit rating
    </button>

    <p class="rating-message"></p>
  </div>
  </section>

</body>
</html>
